---
import { AD_CLIENT } from "@/lib/constants";

interface Props {
  adSlot: string;
  adFormat?: string;
  adLayoutKey?: string;
  isAutoRelaxed?: boolean;
  className?: string;
}

const { adSlot, adFormat, adLayoutKey, isAutoRelaxed, className } = Astro.props;

const format = isAutoRelaxed ? "autorelaxed" : adFormat || "auto";
---

<div class={className || "w-full empty:hidden [&:has(.adsbygoogle:empty)]:hidden"}>
  <ins
    class="adsbygoogle"
    style="display:block;text-align:center;"
    data-ad-client={AD_CLIENT}
    data-ad-slot={adSlot}
    data-ad-format={format}
    data-full-width-responsive="true"
    {...(adLayoutKey ? { "data-ad-layout-key": adLayoutKey } : {})}
  ></ins>
  <script is:inline>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>
